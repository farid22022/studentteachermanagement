{% comment %} 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management System - Student Profiles</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* General Styling */
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to right, #e3f2fd, #fce4ec);
            color: #333;
            padding: 20px;
            margin: 0;
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.8em;
            font-weight: 600;
        }

        /* Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        th {
            background: linear-gradient(135deg, #42a5f5, #1e88e5);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: 600;
            text-transform: uppercase;
        }

        td {
            padding: 12px;
            text-align: center;
            font-size: 1em;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        tr:hover {
            background-color: #f1f1f1;
            cursor: pointer;
        }

        /* Custom Cell Colors */
        td:nth-child(3) {
            background-color: #e1f5fe;
        }
        td:nth-child(4), td:nth-child(5) {
            background-color: #e8f5e9;
        }
        td:nth-child(6) {
            background-color: #f3e5f5;
        }
        td:nth-child(7) {
            background-color: #fff3e0;
        }
        td:nth-child(8) {
            background-color: #ffe0b2;
        }

        /* Grade Styling */
        .grade-A-plus {
            color: #2ecc71;
            font-weight: bold;
        }

        .grade-A {
            color: #3498db;
        }

        .grade-B {
            color: #f39c12;
        }

        .grade-C {
            color: #e74c3c;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }

            th, td {
                padding: 10px;
            }

            h1 {
                font-size: 2.2em;
            }
        }
    </style>
</head>
<body>
    <h1>Welcome to Student Profiles</h1>
    <table>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th colspan="2">Subjects & Marks</th>
            <th>Total Marks</th>
            <th>Average Marks</th>
            <th>Grade</th>
        </tr>

        {% for student in result %}
        <tr>
            <td rowspan="{{ student.results|length }}">{{ student.id }}</td>
            <td rowspan="{{ student.results|length }}">{{ student.name }}</td>
            
            {% for subject in student.results %}
            {% if forloop.first %}
            <td>{{ subject.subject }}</td>
            <td>{{ subject.marks }}</td>
            <td rowspan="{{ student.results|length }}">{{ student.totalMarks }}</td>
            <td rowspan="{{ student.results|length }}">{{ student.averageMarks }}</td>
            <td rowspan="{{ student.results|length }}">
                <span class="{% if student.grade == 'A+' %}grade-A-plus
                               {% elif student.grade == 'A' %}grade-A
                               {% elif student.grade == 'B' %}grade-B
                               {% elif student.grade == 'C' %}grade-C
                               {% endif %}">
                    {{ student.grade }}
                </span>
            </td>
        </tr>
        {% else %}
        <tr>
            <td>{{ subject.subject }}</td>
            <td>{{ subject.marks }}</td>
        </tr>
        {% endif %}
        {% endfor %}
        {% endfor %}
    </table>
</body>
</html>
 {% endcomment %}
 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>School Management System - Student Profiles</title>
     <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
     <style>
         /* General Styling */
         body {
             font-family: 'Poppins', sans-serif;
             background: linear-gradient(to right, #e3f2fd, #fce4ec);
             color: #333;
             padding: 20px;
             margin: 0;
         }
 
         h1 {
             text-align: center;
             color: #2c3e50;
             font-size: 2.8em;
             font-weight: 600;
         }
 
         /* Table Styling */
         table {
             width: 100%;
             border-collapse: collapse;
             margin: 20px 0;
             background-color: white;
             border-radius: 10px;
             overflow: hidden;
             box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
         }
 
         th {
             background: linear-gradient(135deg, #42a5f5, #1e88e5);
             color: white;
             padding: 15px;
             text-align: center;
             font-weight: 600;
             text-transform: uppercase;
         }
 
         td {
             padding: 12px;
             text-align: center;
             font-size: 1em;
         }
 
         tr:nth-child(even) {
             background-color: #f9f9f9;
         }
 
         tr:hover {
             background-color: #f1f1f1;
             cursor: pointer;
         }
 
         /* Custom Cell Colors */
         td:nth-child(3) {
             background-color: #e1f5fe;
         }
         td:nth-child(4), td:nth-child(5) {
             background-color: #e8f5e9;
         }
         td:nth-child(6) {
             background-color: #f3e5f5;
         }
         td:nth-child(7) {
             background-color: #fff3e0;
         }
         td:nth-child(8) {
             background-color: #ffe0b2;
         }
 
         /* Grade Styling */
         .grade-A-plus {
             color: #2ecc71;
             font-weight: bold;
         }
 
         .grade-A {
             color: #3498db;
         }
 
         .grade-B {
             color: #f39c12;
         }
 
         .grade-C {
             color: #e74c3c;
         }
 
         /* Animation for Rows */
         @keyframes fadeInUp {
             from {
                 opacity: 0;
                 transform: translateY(20px);
             }
             to {
                 opacity: 1;
                 transform: translateY(0);
             }
         }
 
         tr {
             opacity: 0;
             transform: translateY(20px);
             animation: fadeInUp 0.5s ease forwards;
         }
 
         tr:nth-child(1) {
             animation-delay: 0.2s;
         }
         tr:nth-child(2) {
             animation-delay: 0.4s;
         }
         tr:nth-child(3) {
             animation-delay: 0.6s;
         }
         tr:nth-child(4) {
             animation-delay: 0.8s;
         }
         tr:nth-child(5) {
             animation-delay: 1s;
         }
         tr:nth-child(6) {
             animation-delay: 1.2s;
         }
         tr:nth-child(7) {
             animation-delay: 1.4s;
         }
         tr:nth-child(8) {
             animation-delay: 1.6s;
         }
         tr:nth-child(9) {
             animation-delay: 1.8s;
         }
         tr:nth-child(10) {
             animation-delay: 2s;
         }
         tr.nth-child(11) {
             animation-delay: 2.2s;
         }
         tr.nth-child(12) {
             animation-delay: 2.4s;
         }
         tr.nth-child(13) {
             animation-delay: 2.6s;
         }
        tr.nth-child(14) {
            animation-delay: 2.8s;
        }
        tr.nth-child(15) {
            animation-delay: 3s;
        }
        tr.nth-child(16) {
            animation-delay: 3.2s;
        }
 
         /* Responsive Design */
         @media (max-width: 768px) {
             table {
                 display: block;
                 overflow-x: auto;
                 white-space: nowrap;
             }
 
             th, td {
                 padding: 10px;
             }
 
             h1 {
                 font-size: 2.2em;
             }
         }
     </style>
 </head>
 <body>
     <h1>Welcome to Student Profiles</h1>
     <table>
         <tr>
             <th>ID</th>
             <th>Name</th>
             <th colspan="2">Subjects & Marks</th>
             <th>Total Marks</th>
             <th>Average Marks</th>
             <th>Grade</th>
         </tr>
 
         {% for student in result %}
         <tr>
             <td rowspan="{{ student.results|length }}">{{ student.id }}</td>
             <td rowspan="{{ student.results|length }}">{{ student.name }}</td>
             
             {% for subject in student.results %}
             {% if forloop.first %}
             <td>{{ subject.subject }}</td>
             <td>{{ subject.marks }}</td>
             <td rowspan="{{ student.results|length }}">{{ student.totalMarks }}</td>
             <td rowspan="{{ student.results|length }}">{{ student.averageMarks }}</td>
             <td rowspan="{{ student.results|length }}">
                 <span class="{% if student.grade == 'A+' %}grade-A-plus
                                {% elif student.grade == 'A' %}grade-A
                                {% elif student.grade == 'B' %}grade-B
                                {% elif student.grade == 'C' %}grade-C
                                {% endif %}">
                     {{ student.grade }}
                 </span>
             </td>
         </tr>
         {% else %}
         <tr>
             <td>{{ subject.subject }}</td>
             <td>{{ subject.marks }}</td>
         </tr>
         {% endif %}
         {% endfor %}
         {% endfor %}
     </table>
 </body>
 </html>